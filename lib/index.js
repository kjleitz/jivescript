!function(e){var r={};function t(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var i in e)t.d(n,i,function(r){return e[r]}.bind(null,i));return n},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="",t(t.s=0)}([function(e,r,t){"use strict";const n=e=>{const r=e.toLowerCase().replace(/ +/g," ").replace(/[^a-z0-9*\[\]\(\)| ]/g,"").replace(/\*/g,".*").replace(/ \[([^\]]*)\]/g,"( $1)?").replace(/\[([^\]]*)\] /g,"($1 )?").trim();return new RegExp(`^${r}$`)},i=(e,r)=>{const t=(e=>e.toLowerCase().replace(/[^a-z0-9 ]/gi,""))(e);for(const e of r){const{patterns:r}=e;for(let i=0;i<r.length;i++){const o=r[i];if(t.match(n(o)))return{trigger:e,interpreted:t,pattern:o,patternIndex:i}}}return null};const o=new class{constructor(){this.triggerTier={current:[],parent:null}}get triggers(){return this.triggerTier.current}matchTrigger(e){const r=i(e,this.triggers);return r||!this.triggerTier.parent?r:(this.triggerTier={current:this.triggerTier.parent.current,parent:this.triggerTier.parent.parent},this.matchTrigger(e))}tell(e){return new Promise((r,t)=>{const n=this.matchTrigger(e);if(n){const t=Object.assign({text:e},n),i=n.trigger.callback(t);(i&&i.then?i:new Promise(e=>e())).then(()=>r(this.lastResponse||"Error: no response to matched trigger!"))}else r("Error: No matching trigger found!")})}hear(e,r){const t="string"==typeof e?[e]:e;this.triggers.push({patterns:t,callback:r})}say(e,r){this.lastResponse=e,this.triggerTier={current:[],parent:this.triggerTier},r&&r()}};o.hear(["hi [*]","hello [*]"],()=>{o.say("Well, hi there!",()=>{o.hear("are you a wizard",()=>{o.say("Kinda.")})})}),o.hear(["[*] (um|uh) [*]","[*] er [*]"],e=>{switch(e.patternIndex){case 0:o.say("Um, WHAT?");break;case 1:o.say("u wot m8")}}),o.hear("cool",e=>{o.say("Sweet.")})}]);